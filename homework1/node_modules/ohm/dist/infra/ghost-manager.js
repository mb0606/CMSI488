'use strict';

var baseManager = require('./base-manager');
var ghostManager = Object.assign({}, baseManager, {
  configureCommon: function configureCommon(nconf, app) {
    var ghost = require('ghost');
    ghost({
      config: nconf.get('GHOST_CONFIG_PATH')
    }).then(function (ghostServer) {
      app.use(ghostServer.config.paths.subdir, ghostServer.rootApp);
      ghostServer.start(app);
    });
  }
});

module.exports = ghostManager;